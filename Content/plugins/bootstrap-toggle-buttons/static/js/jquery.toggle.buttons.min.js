!function(a){"use strict";var b=function(a,b,c){for(var d=0,e=b.length;e>d;d++)a=a[b[d]]=a[b[d]]||d==e-1?c:{}};a.fn.toggleButtons=function(c){var d,e,f=.05,g={init:function(c){return this.each(function(){var g,h,i,j,k={};d=a(this),d.addClass("toggle-button"),a.each(d.data(),function(c,d){var e,f={};0===c.indexOf("togglebutton")&&(e=c.match(/[A-Z][a-z]+/g),e=a.map(e,function(a){return a.toLowerCase()}),b(f,e,d),k=a.extend(!0,k,f))}),i=a.extend(!0,{},a.fn.toggleButtons.defaults,c,k),a(this).data("options",i),g=a("<span></span>").addClass("labelLeft").text(void 0===i.label.enabled?"ON":i.label.enabled),h=a("<span></span>").addClass("labelRight").text(void 0===i.label.disabled?"OFF ":i.label.disabled),e=d.find("input:checkbox").wrap(a("<div></div>")).parent(),e.append(g),e.append(a("<label></label>").attr("for",d.find("input").attr("id"))),e.append(h),d.find("input").is(":checked")?d.find(">div").css("left","0"):d.find(">div").css("left","-50%"),i.animated?void 0!==i.transitionspeed&&(f=/^(\d*%$)/.test(i.transitionspeed)?.05*parseInt(i.transitionspeed)/100:i.transitionspeed):f=0,a(this).data("transitionSpeed",1e3*f),i.width/=2,d.css("width",2*i.width).find(">div").css("width",3*i.width).find(">span, >label").css("width",i.width),d.css("height",i.height).find("span, label").css("height",i.height).filter("span").css("line-height",i.height+"px"),d.find("input").is(":disabled")&&a(this).addClass("deactivate"),d.find("span").css(i.font),void 0===i.style.enabled?void 0!==i.style.custom&&void 0!==i.style.custom.enabled&&void 0!==i.style.custom.enabled.background&&(g.css("color",i.style.custom.enabled.color),void 0===i.style.custom.enabled.gradient?g.css("background",i.style.custom.enabled.background):a.each(["-webkit-","-moz-","-o-",""],function(a,b){g.css("background-image",b+"linear-gradient(top, "+i.style.custom.enabled.background+","+i.style.custom.enabled.gradient+")")})):g.addClass(i.style.enabled),void 0===i.style.disabled?void 0!==i.style.custom&&void 0!==i.style.custom.disabled&&void 0!==i.style.custom.disabled.background&&(h.css("color",i.style.custom.disabled.color),void 0===i.style.custom.disabled.gradient?h.css("background",i.style.custom.disabled.background):a.each(["-webkit-","-moz-","-o-",""],function(a,b){h.css("background-image",b+"linear-gradient(top, "+i.style.custom.disabled.background+","+i.style.custom.disabled.gradient+")")})):h.addClass(i.style.disabled);var l=function(a){a.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};g.on("click",function(){l(a(this))}),h.on("click",function(){l(a(this))}),d.find("input").on("change",function(b,c){var d=a(this).parent(),e=a(this).is(":checked"),f=a(this).closest(".toggle-button");d.stop().animate({left:e?"0":"-50%"},f.data("transitionSpeed")),i=f.data("options"),c||i.onChange(d,e,b)}),d.find("label").on("mousedown touchstart",function(b){j=!1,b.preventDefault(),b.stopImmediatePropagation(),a(this).closest(".toggle-button").is(".deactivate")?a(this).off("click"):(a(this).on("mousemove touchmove",function(b){var c=a(this).closest(".toggle-button"),d=(b.pageX||b.originalEvent.targetTouches[0].pageX)-c.offset().left,e=100*(d/(2*i.width));j=!0,b.stopImmediatePropagation(),b.preventDefault(),25>e?e=25:e>75&&(e=75),c.find(">div").css("left",e-75+"%")}),a(this).on("click touchend",function(b){var c=a(b.target),d=c.siblings("input");b.stopImmediatePropagation(),b.preventDefault(),a(this).off("mouseleave"),j?parseInt(a(this).parent().css("left"))<-25?d.attr("checked",!1):d.attr("checked",!0):d.attr("checked",!d.is(":checked")),d.trigger("change")}),a(this).on("mouseleave",function(b){var c=a(this).siblings("input");b.preventDefault(),b.stopImmediatePropagation(),a(this).off("mouseleave"),a(this).trigger("mouseup"),parseInt(a(this).parent().css("left"))<-25?c.attr("checked",!1):c.attr("checked",!0),c.trigger("change")}),a(this).on("mouseup",function(b){b.stopImmediatePropagation(),b.preventDefault(),a(this).off("mousemove")}))})}),this},toggleActivation:function(){a(this).toggleClass("deactivate")},toggleState:function(b){var c=a(this).find("input");c.attr("checked",!c.is(":checked")).trigger("change",b)},updateState:function(){var b=a(this).find("input");b.trigger("change")},setState:function(b,c){a(this).find("input").attr("checked",b).trigger("change",c)},status:function(){return a(this).find("input:checkbox").is(":checked")},destroy:function(){var c,b=a(this).find("div");return b.find(":not(input:checkbox)").remove(),c=b.children(),c.unwrap().unwrap(),c.unbind("change"),c}};return g[c]?g[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?(a.error("Method "+c+" does not exist!"),void 0):g.init.apply(this,arguments)},a.fn.toggleButtons.defaults={onChange:function(){},width:100,height:25,font:{},animated:!0,transitionspeed:void 0,label:{enabled:void 0,disabled:void 0},style:{enabled:void 0,disabled:void 0,custom:{enabled:{background:void 0,gradient:void 0,color:"#FFFFFF"},disabled:{background:void 0,gradient:void 0,color:"#FFFFFF"}}}}}($);